

# Minimal Redis configuration for WordPress Object Cache

# Bind to all interfaces (inside docker network)
bind 0.0.0.0

# Default port (from environment variable REDIS_PORT)
port ${REDIS_PORT}

# Require password (from environment variable REDIS_PASS)
requirepass ${REDIS_PASS}
# Disable protected mode (Docker network + password secures access)
protected-mode no

# Enable persistence
save 900 1
save 300 10
save 60 10000
appendonly no

# Max memory usage (example: 128MB; adjust as needed)
maxmemory 128mb

# Eviction policy (remove least recently used keys when full)
maxmemory-policy allkeys-lru

# Log level
loglevel notice

# Run in foreground for Docker
daemonize no

# No external supervisor (Docker handles restarts)
supervised no